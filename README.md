# testovoe
* Созданы две роли. Одна устанавливает docker, вторая выполняет тестовое задание.
* Файл конфигурации nginx и докерфайлы генерируется из j2 шаблонов который находятся в роли в папке templates
* Docker-compose.yaml и другие файлы находятся в роли в папке files.
* После развертывания сервис доступен на порту 8080. Можно проверить локально curl localhost:8080. В результате будет страница с выводом информации о версии php. Так же можно проверить работоспособность БД, curl localhost:8080/todo.php. Будет показан вывод из бд таблицы todo_list предварительно заполненной тремя значениями из файла ./roles/run-docker-app/files/todo.sql.
* При изменении конфига nginx в шаблоне или переменых /roles/run-docker-app/defaults/ (имя сервера или порт) конфиг nginx будет перечитан т.к есть соответствующие handlers(естественно если конфин будет переделан и будет запущен плейбук который доставит этот конфиг на машину)
* Роль по установке Docker была взята в сообществе galaxy. https://galaxy.ansible.com/ui/standalone/roles/geerlingguy/docker/
